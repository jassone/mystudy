## 开闭原则
## 一、定义
开闭原则的全称是 Open Close Principle（OCP），软件中的对象（类、模块、函数等）应该**对于扩展是开放的，对于修改是封闭的**。

## 二、问题产生
在软件的生命周期内，因为变化、系统升级和维护等原因需要对软件原有代码进行修改时，可能会将错误引入原本已经测试过的旧版本中，破坏原有系统。

## 三、解决方案
开闭原则是为软件实体的未来事件而制定的对现行开发设计进行约束的一个原则，当软件需要变化时，**尽量通过扩展软件实体的行为来实现变化，而不是通过修改已有的代码来实现变化**。

## 四、举个例子
* 详见wiki:https://www.jianshu.com/p/59dc6cf2688e

## 五、为什么要用开闭原则
### 1、面向对象开发的要求
设计之初就要考虑到所有可能变化的因素，留下接口，等待‘可能’变为‘现实’。

### 2、开闭原则是最基础的一个原则
前面五个原则都是开闭原则的具体形态，也就是说前五个原则就是指导设计的工具和方法，而开闭原则才是其精神领袖。

### 3、提高复用性，提高可维护性

## 六、如何使用开闭原则
### 1、抽象约束
* 通过接口或抽象类约束扩展，对扩展进行边界限定，不允许出现在接口或抽象类中不存在的public方法。
* 参数类型、引用对象尽量是接口或者抽象类，而不是实现类。
* 抽象层尽量保持稳定。

### 2、元数据控制模块行为
元数据：用来描述环境和数据的数据，通俗说就是配置参数，比如spring容器中的配置文件。

### 3、制定项目章程
对项目来说，约定优于配置。

### 4、封装变化
* 将相同的变化封装到一个接口或抽象类中
* 将不同变化封装到不同接口或抽象类中

## 七、最佳实践
* 使用六大原则
* 制定项目章程
* 预知变化

## 八、总结
开闭原则对扩展开放，对修改关闭，并不意味着不做任何修改，低层模块的变化，必然要有高层模块进行耦合，否则就是一个孤立无意义的代码片段。

这个原则很虚，包含很广，具体的理解可以通过具体的设计模式的设计思维去加深理解。

 