## 设计模式六大原则-依赖倒置原则
先说下依赖正置:类间的依赖是实实在在的实现类间的依赖。也就是面向实现编程。
  
## 一、定义
* 高层模块不应该依赖低层模块，二者都应该依赖其抽象；
* 抽象不应该依赖细节；
* 细节应该依赖抽象

## 二、问题由来
类 A 直接依赖类 B，假如要将类 A 改为依赖类 C ，则必须通过修改类 A 的代码来达成。

这种场景下，类 A一般是高层模块，负责复杂的业务逻辑；类 B 和类 C 是低层模块，负责基本的原子操作；

假如修改类 A，会给程序带来不必要的风险。

## 三、解决方案
将类 A 修改为依赖接口 Interface1，类 B 和类 C 各自实现接口 Interface2，类 A 通过接口 Interface1 间接与类 B 或者类 C 发生联系，则会大大降低修改类 A 的几率。

## 四、具体分析
依赖倒置原则基于这样一个事实：**相对于细节的多变性，抽象的东西要稳定的多。**

以抽象为基础搭建起来的架构比以细节为基础搭建起来的架构要稳定的多。**抽象指的是接口或者抽象类，细节就是具体的实现类**，使用接口或者抽象类的目的是制定好规范和契约，而不去涉及任何具体的操作，把展现细节的任务交给他们的实现类去完成。

**即程序设计中尽量用基类类型来对对象进行定义，而在运行时才用子类来替换父类对象。**

**依赖倒置原则的核心思想：面向接口编程，而不是面向实现编程。从而达到解耦的目的。**

## 五、举例说明
* 详见wiki:https://www.jianshu.com/p/aeb367c46645

## 六、举例总结
这样修改之后，无论以后想去看网页、杂志，都不需要再修改 Mother 类了。这只是一个简单的例子，实际情况中，代表高层模块的 Mother 类将负责完成主要的业务逻辑，一旦需要对它进行修改，引入错误的风险极大。**所以遵循依赖倒置原则可以降低类之前的耦合性，提高系统的稳定性，降低修改程序造成的风险。**
 
## 六、最佳实际
### 1、在实际编程时，我们一般需要做到如下4点：
* 每个类尽量都要有抽象类或接口，或者两者都有
* **变量的声明类型(表面类型)尽量是抽象类或接口**
* 任何类都不应该从具体类派生
* 尽量不要覆写基类的方法
    如果基类是一个抽象类，而且这个方法已经实现了，子类尽量不要去覆写。类间依赖的是抽象，覆写了抽象方法，对依赖的稳定性会产生一定影响。todo？

* 使用继承时遵循里式替换原则


## 七、总结
采用依赖倒置原则给多人并行开发带来了极大的便利。参与协作开发的人越多、项目越庞大，采用依赖倒置原则的意义就越重大。

### 1、依赖倒置的作用
* 降低类间的耦合性
* 提供系统的稳定性
* 减少并行开发引起的风险(这时候会有模块间的依赖关系)。
* 提高代码的可读性和可维护性。

### 2、依赖几种写法
* 构造函数传递依赖对象
* setter方法传递依赖对象
* 接口声明依赖对象，也叫接口注入。
