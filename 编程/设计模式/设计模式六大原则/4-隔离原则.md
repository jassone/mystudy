## 隔离原则

## 一、定义
* 客户端不应该依赖它不需要的接口。
* 类间的依赖应该建立在最小的接口上。

## 二、问题由来
类 A 通过接口 Interface1 依赖 B，类 C 通过接口 Interface1 依赖 D，如果接口 Interface1对于类 A 和类 B 来说不是最小接口，则类 B 和类 D 必须去实现他们不需要的方法。

## 三、解决方案
将臃肿的接口 Interface1 拆分为独立的几个接口，类 A 和类 C 分别与他们需要的接口建立依赖关系，也就是采用接口隔离原则。

## 四、举例说明
* 详见wiki：https://www.jianshu.com/p/336574140fb5

## 五、举例总结
接口隔离原则的含义是：**建立单一接口，不要建立庞大臃肿的接口，尽量细化接口，接口中的方法尽量少。**也就是说，我们要为各个类建立专用的接口，而不要试图去建立一个很庞大的接口供所有依赖它的类去调用。

上面的例子中，将一个庞大的接口变更为 3 个专用的接口所采用的就是接口隔离原则。在程序设计中，依赖几个专用的接口要比依赖一个综合的接口更灵活。接口是设计时对外部设定的“契约”，通过分散定义多个接口，可以预防外来变更的扩散，提高系统的灵活性和可维护性。

## 六、最佳实践
* 一个接口只服务于一个子模块或业务逻辑。
* 通过业务逻辑压缩接口中的public方法，接口时常去回顾，尽量让接口精简，而不是一大堆方法。
* 已经被污染的接口，尽量去修改，若变更风险很大，可以采用适配器模式进行转化。
* 了解环境，拒绝盲从。

## 七、总结
很多人会觉得接口隔离原则跟之前的单一职责原则很相似，其实不然，原因有两点：

* 单一职责原则注重的是职责，而接口隔离原则注重对接口依赖的隔离
* 单一职责原则主要是约束类，其次才是接口和方法，它针对的是程序中的实现和细节；而接口隔离原则主要约束接口，主要针对抽象，针对程序整体框架的构建

### 1、采用接口隔离原则对接口进行约束时，要注意以下几点
* **接口尽量小**。但是要有限度。对接口进行细化可以提高程序设计灵活性是不争的事实，但是如果过小，则会造成接口数量过多，使设计复杂化，所以要适度。

    小到什么程度呢：**用接口隔离原则拆分接口时，必须满足单一职责原则。**    

* **为依赖接口的类定制服务**。只暴露给调用的类它需要的方法，它不需要的方法则隐藏起来，只有专注的为一个模块提供定制服务，才能建立最小的依赖关系。

    提高定制服务后，使用者根据需要按需使用组合接口即可。

* **接口要高内聚**。高内聚就是提高接口、类、模块的处理能力，减少对外交互。

* 接口的设计是有限度的。根据经验判断。
 