## todo

据官方数据表示Redis读的速度是110000次/s,写的速度是81000次/s

但是5w qps可能就达到极限了。


1. 因为redis用的动态字符串的库在每次分配空间的时候会增加一倍的可用空闲空间，存储大的字符时占空间
2. redis各个命令在不同版本使用情况不同，请务必要知晓当前使用的redis版本，按照手册使用


### redis为什么那么快
* Redis使用RESP 协议，将数据的长度放在数据正文之前， 所以程序无须像 JSON 那样， 为了寻找某个特殊字符而扫描整个payload ， 也无须对发送至服务器的payload 进行转义。
* 异步非阻塞 todo



### 如何不重启redis修改配置
例如
redis-cli> CONFIG SET appendonly yes
但是不要忘记修改配置文件，否则真的重启会丢失上面配置

##### TPS
对于机械硬盘，Redis只能支持大约几百TPS写入；固态硬盘（SSD）,每秒大约也只能处理几万个命令.

### 单线程还是多线程 todo
* **redis是单线程，处理需要排队**，所以可以被用来做分布锁。？？？？
* redis的worker单线程

##### 为什么redis是单线程程序？
* 没有任何的外部IO(DB操作，kv查询，外部接口调用，磁盘IO),纯内存读写。
* 接收客户端的请求，用的是‘异步IO’(epoll)

所以在这种情况下，CPU不会因为IO阻塞而空闲，单线程已经充分利用了CPU.

要利用多核就多开几个实例,配置到不同端口上  ./redis-server redis.conf




