## 分片集群



![2CEF9DF9.png](https://pic.imgdb.cn/item/64dccaf1661c6c8e54b9e5ab.png)

为何使用分片

- 数据容量大，访问性能下降
- 如果支持更大的并发
- 单库数据量大，恢复慢
- 地理分布数据问题

### 分片集群数据分布方式

- 基于范围
- 基于hash
- 基于zone/tag

### Mongos

 mongos 是一个在分片中用到的进程文件，所有应用程序端的查询操作都会先由它分析，然后将查询定位到具体的某一个分片上，它的监听作用与mongod的监听作用类似。



## zoon sharding

全球集群，解决跨地区写问题

- 针对每个要分片的数据集合，模型中增加一个区域字段
- 给集群的每个分片加区域标签 
- 给每个区域指定属于这个区域的分片块范围（chunk range）





