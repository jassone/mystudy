## XSS跨站脚本攻击+csrf攻击

## 一、XSS跨站脚本攻击

xss：中文名称跨站脚本攻击，通常出现在搜索框、留言板、评论区等地方

分类：反射性、存储型、DOM 型

攻击方式：构造恶意链接，诱骗用户点击盗取用户的 cookie 信息

漏洞危害：xss 蠕虫、会话、流量劫持、网站挂马、盗取 cookie

防护方法：设置黑名单和白名单、对用户输入进行过滤、入参字符过滤、出参字符转义、设置 httponly



## 二、csrf攻击

CSRF（Cross Site Request Forgery, 跨站域请求伪造）是一种网络的攻击方式.

csrf 漏洞：中文名称跨站请求伪造，攻击者冒充用户身份执行用户操作。

检测漏洞：抓取一个请求包，去掉 referer 字段进行访问，如果访问有效则存在漏洞

危害：盗用用户身份、执行用户操作，修改信息

防护方法：

1、设置 referer 字段；但是并不是所有服务器在任何时候都可以接受 referer 字段，所以这个方法存在一定的局限性

2、设置验证码；在用户操作的过程中设置身份确认的验证码，该方法会很有用，不过验证码频繁的话会影响用户体验

3、设置 token 值，在用户请求中设置一个随机没有规律的 token 值可以有效的防止攻击者利用漏洞攻击

## 三、二者区别

- xss：跨站脚本攻击、诱骗用户点击恶意链接盗取用户 cookie 进行攻击、不需要用户进行登录、xss 除了利用 cookie 还可以篡改网页等
- csrf：跨站请求伪造、无法获取用户的 cookie 而是直接冒充用户、需要用户登录后进行操作

## 四、相关wiki

- https://zhuanlan.zhihu.com/p/26177815