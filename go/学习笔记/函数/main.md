## function

## 一、基础知识
### 1、基本特性
* 函数是一等公民：参数，变量，返回值都可以是函数。
* 可变参数本质上就是 slice。只能有一个，且必须是最后一个。
* 不支持 嵌套 (nested) 一个包不能有两个名字一样的函数。
* 不支持 重载 (overload) 
* 不支持 默认参数 (default parameter)。

### 2、函数声明：
函数声明包含
* **函数名**
* **参数列表**
* **返回值列表**
* **函数体**

### 3、匿名函数
匿名函数是一种没有函数名的函数，即定义即使用。

匿名函数没有函数名，只有函数体，它只有在被调用的时候才会初始化。匿名函数一般被当作一种类型赋值给函数类型的变量，经常被用作`回调函数`。

### 4、值传递和引用传递
* 无论是值传递，还是引用传递，**传递给函数的都是变量的副本**，不过，值传递是值的拷贝。引用传递是地址的拷贝，一般来说，地址拷贝更为高效。而值拷贝取决于拷贝的对象大小，对象越大，则性能越低。

* **map、slice、chan、指针、interface默认以引用的方式传递。**

### 扩展 todo
C语言系列的所有语言，函数的参数总是按值传递，也就是说函数总能得到参数的副本，就像有一个赋值语句将值分配给参数意义。

其实指针传递也是赋值一个指针的副本，不是他指向的数据。所以你能在函数里面通过指针改变数据的值就是这个原因。因为指针是一个指向数据的地址，副本还是这个地址。

有两个比较特殊的数据结构就是 Map 和 Slice。它们的行为和指针很像，它们包含一个指向基础数据的一个指针，所以 Map 和 Slice 作为参数的时候，不会复制他们所指向的数据，而且在函数中可以直接改变数据。

如果函数的参数是一个 interface ,interface 值包含 struct 将会复制整个 struct，如果包含的是指针，那也不会拷贝指针指向的数据。








