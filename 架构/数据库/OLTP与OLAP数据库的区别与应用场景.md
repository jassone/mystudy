## OLTP与OLAP数据库的区别与应用场景
针对TP,PB级别的数据，传统的mysql数据库已经力不从心了，尤其是以数据分析这种典型’全盘‘扫描的统计业务，大规模扫盘(比如查询10年的数据)会让mysql不堪重负。为了解决这类问题，从数据应用场景角度分为OLTP与OLAP。

## 一、OLTP
* On-Line Transaction Processing，联机事务处理系统，就是对数据库的增删改查等操作。
* 存储的是业务数据，来记录某类业务事件的发送，比如下单，支付，注册等。
* 典型代表有mysql，oracle等，对应的网站、系统应用后端数据库。
* 针对事务进行操作、对响应时间要求高，面向前台应用的，应用比较简单，数据量相对较少，是GB级别的。
* 面向群体：业务人员。

当数据积累到一定程度，需要对过去发生的事情做一个总结分析时，就需要把过去一段时间内产生的数据拿出来统计分析，从中获取想要的信息，为公司做决策提供支持，这个就是OLAP了。

## 二、OLAP

* On-Line Analytic Processing，联机分析处理系统。通过多种不同维度审视数据，进行深层次分析。
* 存储的是历史数据，对应的风控平台，BI平台、数据可视化等系统。
* OLAP是数据仓库系统的主要应用，支持复杂的分析操作，侧重决策，并且提供直观易懂的查询结果。
* 典型代表有hive,clickhouse.
* 针对基于查询的分析系统，数据数据来源于生产系统中的操作数据，数据量非常大，常规是TB级别的
* 面向群体：分析决策人员。

### 1、三大架构

##### a) ROLAP（Relational OLAP, 关系型OLAP）, 代表-Spark

在传统关系型数据库上进行聚合。 数据量大时查询慢。

##### b) MOLAP (Multidimensional OLAP，多维度OLAP)，代表-Hive

使用多维数组的形式保存数据，核心思想是借助预先聚合结果，使用空间换时间的形式最终提升查询性能。具体实现方式是依托立方体模型的概念。

1. 对需要分析的数据进行建模，框定需要分析的维度字段。
2. 通过预处理的形式，对各种维度进行组合并事先聚合
3. 将聚合结果以某种索引或者缓存的形式保存起来（通常只保存聚合后的结果，不存储明细数据）。

缺点：

- 维度字段多的时候，组合方式也就多了，数据会指数膨胀
- 因为是预先处理，数据有滞后性，不能实时进行数据分析
- 只保存聚合后的结果，导致无法查询明细数据

##### c) HOLAP（Hybrid OLAP，混合架构的OLAP）











