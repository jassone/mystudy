## udp如何实现可靠传输

todo？？



 TCP 协议四个方面的缺陷：

- 升级 TCP 的工作很困难；
- TCP 建立连接有延迟；
- TCP 存在队头阻塞问题；
- 网络迁移需要重新建立 TCP 连接；



1. 应用层确认机制：在应用层上，可以实现自定义的确认机制。发送方在发送数据后等待接收方的确认消息，如果在一定时间内未收到确认，则重新发送数据。这样可以确保数据的可靠传输。
2. 数据校验和重传：在UDP数据包中添加校验和字段，接收方在接收数据时计算校验和并与发送方的校验和进行比较。如果不匹配，则要求发送方重新发送数据。
3. 序列号和确认号：类似于TCP协议的序列号和确认号机制，发送方给每个数据包分配一个唯一的序列号，接收方收到数据后发送确认消息，并在其中包含确认号。发送方根据确认号判断哪些数据包已经被成功接收，可以进行相应的重传。
4. 超时重传：发送方可以设置一个超时计时器，如果在指定时间内未收到确认消息，则认为数据丢失，触发重传操作。
5. 流量控制和拥塞控制：通过控制发送数据的速率和接收数据的处理速度，可以避免网络拥塞和数据丢失。这可以通过动态调整发送速率、使用滑动窗口等方法来实现。

需要注意的是，尽管这些方法可以增加UDP传输的可靠性，但它们会增加数据传输的开销和延迟。在设计和实现可靠UDP传输时，需要权衡传输效率和可靠性需求，并根据具体的应用场景选择适当的机制。



KCP：这是一个简单而快速的ARQ协议，它使用选择重传和快重传等机制来提供可靠的字节流服务。它还支持可配置启用的加密和FEC选项。

[镭速](https://link.zhihu.com/?target=https%3A//www.raysync.cn/)（Raysync协议）：这是一个专注于企业级大数据传输和应用领域的解决方案，它使用自研的Raysync协议来实现高速、安全、稳定的数据传输。它还支持多种传输模式、多终端覆盖、易于集成等功能。



Http2.0 也是谷歌开发的。

quic：google公司开发的，HTTP/3 基于 Google 的 QUIC 协议，是将来的发展方向。

QUIC 是基于 UDP 传输的。

QUIC 协议没有用四元组的方式来“绑定”连接，而是通过**连接 ID**来标记通信的两个端点。

https://zhuanlan.zhihu.com/p/643186276