## 存储过程


## 存储过程弊端
目前在银行系统用存储过程的很多，归结原因如下
* 银行业务以数据为核心。* Oracle、DB2一统江湖，存储过程与语言无关* 预算充足
* 银行被Oracle、DB2绑架，数据好迁移，存储过程要全部重写，风险大。

但是目前在各大互联网公司，大部分已经不用存储过程了，原因如下* 存储过程在互联网分布式场景的问题
    a)分片场景下存储过程只能作用在局部数据
    b)业务层的各种缓存减压手段用不上，数据库压力激增。
    c)无法保证分布式全局事务。* 难以调试(线上调试一般就是打日志,存储过程日志没法跟踪详细的执行过程)。
* 没有内置的版本管理方案。
* 扩展差，没有移植性。
* 业务执行碎片化(部分业务在代码中，部分业务在db层)。