## Snowflake雪花算法

### 1、简介
雪花算法（snowflake）是由Twitter公布的分布式主键生成算法，它能够保证不同进程主键的不重复性，以及相同进程主键的有序性。

雪花算法是以二进制数为操作数的算法，最终生成64bit的长整型数据。所以本文开篇先普及一下二进制一些基础知识。

这个数字就可以作为数据库的主键，他既可以保证是连续的也可以保证在分布式系统中是唯一的。

Snowflake 每毫秒可以生成 416 万个 ID，这对于我们在分布式系统中使用的场景已经足够了。

### 2、生成

![sdedfdfe.png](https://pic.imgdb.cn/item/61cc18082ab3f51d91cbbb95.png)

![2324343.png](https://pic.imgdb.cn/item/61cc183f2ab3f51d91cbf180.png)

### 3、注意
实现雪花算法时要注意时间回拨带来的影响。就是在实际使用过程中，程序所处的服务器，时间往前或者往后调个几毫秒，这种情况下会产生重复的 ID。这种情况在实际几乎是不会遇到的。
 